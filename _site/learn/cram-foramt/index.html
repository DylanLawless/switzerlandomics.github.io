<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>What is the CRAM format?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" sizes="32x32"   href="/images/favicon-32x32.png">
  <link rel="apple-touch-icon"      sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="manifest" href="/images/site.webmanifest">
  <!-- Google Fonts CDN -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <!-- Self host font -->
  <!-- <link rel="preload" href="/assets/fonts/playfair-display.woff2" as="font" type="font/woff2" crossorigin> -->
  <link href="/assets/css/style.css" rel="stylesheet">
  <link href="/assets/css/custom.css" rel="stylesheet">
  
  <meta name="description" content="Explanation of the CRAM format used for compressed storage of sequencing alignments" />
  <meta property="og:title" content="What is the CRAM format?"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content=""/>
  
  <meta property="og:description" content="Explanation of the CRAM format used for compressed storage of sequencing alignments"/>
  <meta name="twitter:card" content="summary"/>
  
  

</head>

<body class='page page-learn-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  
  <ul>
    
    <li class="">
      <a href="/technologies/">Technologies</a>
    </li>
    
    <li class="">
      <a href="/team/">Team</a>
    </li>
    
    <li class="">
      <a href="/publications/">Publication</a>
    </li>
    
    <li class="">
      <a href="/releases/">Releases</a>
    </li>
    
    <li class="">
      <a href="/partnerships/">Partners</a>
    </li>
    
    <li class="">
      <a href="/about/">About</a>
    </li>
    
    <li class="">
      <a href="/blog/">Blog</a>
    </li>
    
    <li class="">
      <a href="/contact/">Contact</a>
    </li>
    
  </ul>
</div>

  <div id="wrapper" class="wrapper">
    <!-- <a href="/"> -->

<div class='header'>
  <div class="container">
    <div class="logo">
      <a href="/">
        <span><img width="50px" height="50px" alt="SwitzerlandOmics" src="/images/logo/logo_v2.svg" /></span>
        <span class="logo-text">Switzerland Omics</span>
      </a>
    </div>
    <div class="logo-mobile">
      <a href="/">
        <span><img width="39px" height="39px" alt="SwitzerlandOmics" src="/images/logo/logo_v2.svg" /></span>
        <span class="logo-text">Switzerland Omics</span>
      </a>
    </div>
    <div id="main-menu" class="main-menu">
  
  <ul>
    
    <li class="">
      <a href="/technologies/">Technologies</a>
    </li>
    
    <li class="">
      <a href="/team/">Team</a>
    </li>
    
    <li class="">
      <a href="/publications/">Publication</a>
    </li>
    
    <li class="">
      <a href="/releases/">Releases</a>
    </li>
    
    <li class="">
      <a href="/partnerships/">Partners</a>
    </li>
    
    <li class="">
      <a href="/about/">About</a>
    </li>
    
    <li class="">
      <a href="/blog/">Blog</a>
    </li>
    
    <li class="">
      <a href="/contact/">Contact</a>
    </li>
    
  </ul>
</div>

    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button" aria-label="Mobile Menu">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>






    <div class="container pb-6 pt-6 pt-md-10 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <div class="tech tech-single">

        <h1 class="title">What is the CRAM format?</h1>

        
        <p class="lead">Explanation of the CRAM format used for compressed storage of sequencing alignments</p>
        

        <div class="content">
          <p>CRAM is a compressed file format used to store sequencing read alignments, equivalent to BAM but designed to achieve smaller file sizes by storing differences relative to a reference genome instead of storing all read bases directly.</p>

<p>CRAM files are widely used for long-term storage and transfer of aligned sequencing data.</p>

<h2 id="why-cram-files-exist">Why CRAM files exist</h2>

<p>Modern sequencing projects generate extremely large alignment datasets. Whole-genome BAM files commonly reach hundreds of gigabytes per sample, making storage and data transfer costly.</p>

<p>CRAM reduces this burden by compressing alignments relative to the reference genome and applying more flexible compression strategies. This significantly reduces storage size while preserving compatibility with most analysis tools.</p>

<p>CRAM therefore allows large cohorts and archives to be stored more efficiently.</p>

<h2 id="core-mechanism-of-cram">Core mechanism of CRAM</h2>

<p>A CRAM file contains the same alignment information stored in SAM or BAM:</p>

<ul>
  <li>read mapping locations,</li>
  <li>alignment operations,</li>
  <li>pairing information,</li>
  <li>quality values,</li>
  <li>optional annotations.</li>
</ul>

<p>Instead of storing full read sequences, CRAM records how reads differ from the reference genome and reconstructs sequences during decoding. Additional compression is applied to different data streams to further reduce file size.</p>

<p>Because reconstruction depends on the reference genome, access to the correct reference sequence is required when reading CRAM files unless reference data is embedded.</p>

<h2 id="example-alignment-record">Example alignment record</h2>

<p>CRAM is binary, so alignments are typically viewed through SAM format:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>r001  99  chr1  10001  60  50M  = 10100  149  ACTG...  FFFF...
</code></pre></div></div>

<p>This record indicates:</p>

<ul>
  <li>read <code class="language-plaintext highlighter-rouge">r001</code> aligns to chromosome 1 at position 10001,</li>
  <li>mapping quality indicates alignment confidence,</li>
  <li>the CIGAR string describes alignment structure,</li>
  <li>sequence and quality values represent the read.</li>
</ul>

<p>CRAM stores equivalent information but encodes sequences relative to the reference to reduce size.</p>

<h2 id="details-that-matter">Details that matter</h2>

<ul>
  <li>Decoding CRAM usually requires access to the exact reference genome used during alignment.</li>
  <li>Files must be coordinate-sorted before indexing.</li>
  <li>Region queries require an index file.</li>
  <li>Some pipelines optionally compress or discard quality scores to save space.</li>
  <li>Compression efficiency varies depending on read length, coverage, and sequence diversity.</li>
</ul>

<h2 id="common-mistakes">Common mistakes</h2>

<p>Frequent operational errors include:</p>

<ul>
  <li>Losing access to the reference genome needed for decoding.</li>
  <li>Assuming CRAM files are self-contained like BAM.</li>
  <li>Attempting to index unsorted files.</li>
  <li>Expecting identical compression ratios across datasets.</li>
</ul>

<h2 id="where-cram-fits-in-pipelines">Where CRAM fits in pipelines</h2>

<p>Typical workflow:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sequencing → Alignment → BAM → CRAM storage → Variant calling → Interpretation
</code></pre></div></div>

<p>Many workflows generate BAM during alignment and convert to CRAM for storage.</p>

<h2 id="bam-and-cram">BAM and CRAM</h2>

<p>BAM stores read sequences directly in compressed binary form.</p>

<p>CRAM stores differences relative to a reference genome, usually producing smaller files but requiring reference access for decoding.</p>

<p>Both formats store equivalent alignment information and are supported by most modern tools.</p>

<h2 id="technical-specification">Technical specification</h2>

<p>The official CRAM specification is maintained in the hts-specs repository:</p>

<p><a href="https://github.com/samtools/hts-specs">https://github.com/samtools/hts-specs</a></p>


        </div>

      </div>
    </div>
  </div>
</div>


  </div>
  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="footer-inner">
          <!-- <h2 class="footer-title">SwitzerlandOmics</h2> -->

		  <!-- requires clearing to update config -->
		  <!-- bundle exec jekyll clean -->
		  <!-- bundle exec jekyll serve -->
		  <p class="footer-title">Technically sound. Incredibly simple.</p>
          <ul>
            
            
            <li class="">
              <a href="/">Home</a>
            </li>
            
            <li class="">
              <a href="/contact/">Contact</a>
            </li>
            
            <li class="">
              <a href="https://docs.switzerlandomics.ch">Docs</a>
            </li>
            
            <li class="">
              <a href="/learn/">Learn</a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          
            <div class="social">
  
    <a href="https://github.com/DylanLawless/switzerlandomics.github.io" target="blank"><img src="/images/social/github.svg" title="Github" alt="Github" /></a>
  
    <a href="mailto:admin@switzerlandomics.ch " target="blank"><img src="/images/social/email.svg" title="Email" alt="Email" /></a>
  
</div>

          
          
        </div>
      </div>
    </div>
  </div>
</div>
  <script type="text/javascript" src="/assets/js/scripts.js"></script>
  


<script>
  window.addEventListener('DOMContentLoaded', function () {
    const iframe = document.getElementById('responsive-iframe');

    function resizeIframe() {
      try {
        const doc = iframe.contentDocument || iframe.contentWindow.document;
        const rawHeight = doc.documentElement.scrollHeight;
        const paddedHeight = Math.ceil(rawHeight * 1.1);  // add 10%
        <!-- const paddedHeight = Math.max(Math.ceil(rawHeight * 1.08)); // max height safeguard -->

        iframe.style.height = paddedHeight + 'px';
      } catch (e) {
        console.warn('Could not auto-resize iframe:', e);
      }
    }

    iframe.addEventListener('load', function () {
      resizeIframe();
      setTimeout(resizeIframe, 150);  // in case datatable renders late
    });
  });
</script>
</body>

</html>
